

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>seagliderOG1 API &mdash; seagliderOG1 v0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=20758594" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2fea6348"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="seagliderOG1 demo" href="demo-output.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            seagliderOG1
              <img src="_static/logo_seaglider.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About seagliderOG1</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_structure.html">What’s in <code class="docutils literal notranslate"><span class="pre">seagliderOG1</span></code> project?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demo-output.html">seagliderOG1 demo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help and reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://github.com/ocean-uhh/seagliderOG1">GitHub Repo</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">seagliderOG1</span> <span class="pre">API</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.convertOG1">convertOG1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.add_gps_info_to_dataset"><code class="docutils literal notranslate"><span class="pre">add_gps_info_to_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.convert_to_OG1"><code class="docutils literal notranslate"><span class="pre">convert_to_OG1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.extract_attr_to_keep"><code class="docutils literal notranslate"><span class="pre">extract_attr_to_keep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.extract_attr_to_rename"><code class="docutils literal notranslate"><span class="pre">extract_attr_to_rename()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.extract_variables"><code class="docutils literal notranslate"><span class="pre">extract_variables()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.get_contributors"><code class="docutils literal notranslate"><span class="pre">get_contributors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.get_time_attributes"><code class="docutils literal notranslate"><span class="pre">get_time_attributes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.process_and_save_data"><code class="docutils literal notranslate"><span class="pre">process_and_save_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.process_dataset"><code class="docutils literal notranslate"><span class="pre">process_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.standardise_OG10"><code class="docutils literal notranslate"><span class="pre">standardise_OG10()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.convertOG1.update_dataset_attributes"><code class="docutils literal notranslate"><span class="pre">update_dataset_attributes()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.vocabularies">vocabularies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.readers">readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.readers.filter_files_by_profile"><code class="docutils literal notranslate"><span class="pre">filter_files_by_profile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.readers.list_files"><code class="docutils literal notranslate"><span class="pre">list_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.readers.load_basestation_files"><code class="docutils literal notranslate"><span class="pre">load_basestation_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.readers.load_first_basestation_file"><code class="docutils literal notranslate"><span class="pre">load_first_basestation_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.readers.load_sample_dataset"><code class="docutils literal notranslate"><span class="pre">load_sample_dataset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.plotters">plotters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.plot_ctd_depth_vs_time"><code class="docutils literal notranslate"><span class="pre">plot_ctd_depth_vs_time()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.plot_depth_colored"><code class="docutils literal notranslate"><span class="pre">plot_depth_colored()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.plot_profile_depth"><code class="docutils literal notranslate"><span class="pre">plot_profile_depth()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.show_attributes"><code class="docutils literal notranslate"><span class="pre">show_attributes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.show_contents"><code class="docutils literal notranslate"><span class="pre">show_contents()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.show_variables"><code class="docutils literal notranslate"><span class="pre">show_variables()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.plotters.show_variables_by_dimension"><code class="docutils literal notranslate"><span class="pre">show_variables_by_dimension()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.writers">writers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.writers.save_dataset"><code class="docutils literal notranslate"><span class="pre">save_dataset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.tools">tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.add_dive_number"><code class="docutils literal notranslate"><span class="pre">add_dive_number()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.add_sensor_to_dataset"><code class="docutils literal notranslate"><span class="pre">add_sensor_to_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.assign_phase"><code class="docutils literal notranslate"><span class="pre">assign_phase()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.assign_profile_number"><code class="docutils literal notranslate"><span class="pre">assign_profile_number()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.calc_Z"><code class="docutils literal notranslate"><span class="pre">calc_Z()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.combine_two_dim_of_dataset"><code class="docutils literal notranslate"><span class="pre">combine_two_dim_of_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.convert_qc_flags"><code class="docutils literal notranslate"><span class="pre">convert_qc_flags()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.convert_units"><code class="docutils literal notranslate"><span class="pre">convert_units()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.convert_units_var"><code class="docutils literal notranslate"><span class="pre">convert_units_var()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.encode_times"><code class="docutils literal notranslate"><span class="pre">encode_times()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.encode_times_og1"><code class="docutils literal notranslate"><span class="pre">encode_times_og1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.find_best_dtype"><code class="docutils literal notranslate"><span class="pre">find_best_dtype()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.gather_sensor_info"><code class="docutils literal notranslate"><span class="pre">gather_sensor_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.get_sg_attrs"><code class="docutils literal notranslate"><span class="pre">get_sg_attrs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.merge_parts_of_dataset"><code class="docutils literal notranslate"><span class="pre">merge_parts_of_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.reformat_units_str"><code class="docutils literal notranslate"><span class="pre">reformat_units_str()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.reformat_units_var"><code class="docutils literal notranslate"><span class="pre">reformat_units_var()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.set_best_dtype"><code class="docutils literal notranslate"><span class="pre">set_best_dtype()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.set_best_dtype_value"><code class="docutils literal notranslate"><span class="pre">set_best_dtype_value()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.set_fill_value"><code class="docutils literal notranslate"><span class="pre">set_fill_value()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#seagliderOG1.tools.split_by_unique_dims"><code class="docutils literal notranslate"><span class="pre">split_by_unique_dims()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-seagliderOG1.utilities">utilities</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">seagliderOG1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">seagliderOG1</span> <span class="pre">API</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/seagliderOG1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="seagliderog1-api">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">seagliderOG1</span> <span class="pre">API</span></code><a class="headerlink" href="#seagliderog1-api" title="Link to this heading"></a></h1>
<section id="module-seagliderOG1.convertOG1">
<span id="convertog1"></span><h2>convertOG1<a class="headerlink" href="#module-seagliderOG1.convertOG1" title="Link to this heading"></a></h2>
<p>Convert Seaglider basestation files to OG1 format.</p>
<p>This module provides the core functionality for converting Seaglider basestation
NetCDF files into OG1 (Ocean Gliders 1) format. It handles data processing,
variable renaming, attribute assignments, and dataset standardization.</p>
<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.add_gps_info_to_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">add_gps_info_to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gps_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#add_gps_info_to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.add_gps_info_to_dataset" title="Link to this definition"></a></dt>
<dd><p>Add GPS information (LATITUDE_GPS, LONGITUDE_GPS, TIME_GPS) to the dataset.</p>
<p>The GPS values will be included within the N_MEASUREMENTS dimension, with non-NaN values
only when GPS information is available. The dataset will be sorted by TIME.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The dataset with renamed dimensions and variables, representing the main data.</p></li>
<li><p><strong>gps_ds</strong> (<em>xarray.Dataset</em>) – The dataset containing GPS information, typically extracted from the original
basestation dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated dataset with added GPS information. This includes values for
LATITUDE_GPS, LONGITUDE_GPS, and TIME_GPS only when GPS information is available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The dataset is sorted by TIME (or ctd_time from the original basestation dataset).</p></li>
<li><p>If the data are not sorted by time, there may be unintended consequences.</p></li>
<li><p>The function assumes that the GPS dataset contains variables <cite>log_gps_lon</cite>,
<cite>log_gps_lat</cite>, and <cite>log_gps_time</cite> for longitude, latitude, and time respectively.</p></li>
<li><p>The function uses the <cite>sg_data_point</cite> dimension as defined in the OG1 vocabulary.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.convert_to_OG1">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">convert_to_OG1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_datasets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contrib_to_append</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#convert_to_OG1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.convert_to_OG1" title="Link to this definition"></a></dt>
<dd><p>Convert Seaglider basestation datasets to OG1 format.</p>
<p>Processes a list of xarray datasets or a single xarray dataset, converts them to OG1 format,
concatenates the datasets, sorts by time, and applies attributes. Main conversion function that
processes basestation datasets, applies OG1 standardization, concatenates multiple datasets,
and adds global attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_of_datasets</strong> (<em>list</em><em> of </em><em>xarray.Dataset</em><em> or </em><em>xarray.Dataset</em>) – A list of xarray datasets or a single xarray dataset in basestation format.</p></li>
<li><p><strong>contrib_to_append</strong> (<em>dict</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – Dictionary containing additional contributor information to append. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing:
- ds_og1 (xarray.Dataset): The concatenated and processed dataset in OG1 format.
- varlist (list of str): A list of variable names from the input datasets.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of (xarray.Dataset, list of str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.extract_attr_to_keep">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">extract_attr_to_keep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_as_is</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'acknowledgment',</span> <span class="pre">'date_created',</span> <span class="pre">'disclaimer',</span> <span class="pre">'file_version',</span> <span class="pre">'geospatial_lat_max',</span> <span class="pre">'geospatial_lat_min',</span> <span class="pre">'geospatial_lon_max',</span> <span class="pre">'geospatial_lon_min',</span> <span class="pre">'geospatial_vertical_max',</span> <span class="pre">'geospatial_vertical_min',</span> <span class="pre">'id',</span> <span class="pre">'institution',</span> <span class="pre">'keywords',</span> <span class="pre">'keywords_vocabulary',</span> <span class="pre">'license',</span> <span class="pre">'naming_authority',</span> <span class="pre">'project'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#extract_attr_to_keep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.extract_attr_to_keep" title="Link to this definition"></a></dt>
<dd><p>Extract attributes to retain unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds1</strong> (<em>xarray.Dataset</em>) – Source dataset.</p></li>
<li><p><strong>attr_as_is</strong> (<em>list</em>) – Attribute names to retain without modification.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Retained attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.extract_attr_to_rename">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">extract_attr_to_rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_to_rename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'comment':</span> <span class="pre">'history',</span> <span class="pre">'platform_id':</span> <span class="pre">'PLATFORM_SERIAL_NUMBER',</span> <span class="pre">'site':</span> <span class="pre">'summary',</span> <span class="pre">'uri':</span> <span class="pre">'uuid',</span> <span class="pre">'uri_comment':</span> <span class="pre">'UUID'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#extract_attr_to_rename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.extract_attr_to_rename" title="Link to this definition"></a></dt>
<dd><p>Extract and rename attributes according to OG1 vocabulary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds1</strong> (<em>xarray.Dataset</em>) – Source dataset.</p></li>
<li><p><strong>attr_to_rename</strong> (<em>dict</em>) – Mapping of new_name: old_name for attribute renaming.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Renamed attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.extract_variables">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">extract_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#extract_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.extract_variables" title="Link to this definition"></a></dt>
<dd><p>Split variables from the basestation file that have no dimensions into categorized datasets.</p>
<p>This function further processes the variables from the basestation file that had no dimensions.
It categorizes them based on their prefixes or characteristics into three groups:
variables from <cite>sg_calib_constants</cite>, log files, and other mission/dive-specific values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset. This function is designed to work on variables from the basestation
file that had no dimensions, typically after being processed by <cite>split_by_unique_dims</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing three xarray Datasets:
- sg_cal : xarray.Dataset</p>
<blockquote>
<div><p>Dataset containing variables starting with ‘<a href="#id1"><span class="problematic" id="id2">sg_cal_</span></a>’ (originally from <cite>sg_calib_constants.m</cite>).
The variables are renamed to remove the ‘<a href="#id3"><span class="problematic" id="id4">sg_cal_</span></a>’ prefix, so they can be accessed directly
(e.g., <cite>sg_cal.hd_a</cite>).</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>dc_log<span class="classifier">xarray.Dataset</span></dt><dd><p>Dataset containing variables starting with ‘<a href="#id5"><span class="problematic" id="id6">log_</span></a>’. These variables are typically from log files.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>dc_other<span class="classifier">xarray.Dataset</span></dt><dd><p>Dataset containing other mission/dive-specific values. This includes depth-averaged currents
and other variables like <cite>magnetic_variation</cite>.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of (xarray.Dataset, xarray.Dataset, xarray.Dataset)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.get_contributors">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">get_contributors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values_to_append</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#get_contributors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.get_contributors" title="Link to this definition"></a></dt>
<dd><p>Extract and format contributor information for OG1 attributes.</p>
<p>Processes creator and contributor information from dataset attributes,
formats them as comma-separated strings, and handles institution mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Dataset containing original contributor attributes.</p></li>
<li><p><strong>values_to_append</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional contributor information to append.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with formatted contributor attribute strings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.get_time_attributes">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">get_time_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#get_time_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.get_time_attributes" title="Link to this definition"></a></dt>
<dd><p>Extract and clean time-related attributes from the dataset.</p>
<p>Converts various time formats to OG1-standard YYYYMMDDTHHMMSS format
and adds date_modified timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset containing various attributes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing cleaned time-related attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.process_and_save_data">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">process_and_save_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_quietly</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#process_and_save_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.process_and_save_data" title="Link to this definition"></a></dt>
<dd><p>Process and save data from the specified input location.</p>
<p>This function loads and concatenates datasets from the server, converts them to OG1 format,
and saves the resulting dataset to a NetCDF file. If the file already exists, the function
will prompt the user to decide whether to overwrite it or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_location</strong> (<em>str</em>) – The location of the input data to be processed.</p></li>
<li><p><strong>save</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to save the processed dataset to a file. Default is False.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – The directory where the output file will be saved. Default is ‘.’.</p></li>
<li><p><strong>run_quietly</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, suppresses user prompts and assumes ‘no’ for overwriting files. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.process_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">process_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds1_base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstrun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#process_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.process_dataset" title="Link to this definition"></a></dt>
<dd><p>Processes a dataset by performing a series of transformations and extractions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds1_base</strong> (<em>xarray.Dataset</em>) – The input dataset from a basestation file, containing various attributes and variables.</p></li>
<li><p><strong>firstrun</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether this is the first run of the processing pipeline. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:
- ds_new (xarray.Dataset): The processed dataset with renamed variables, assigned attributes,</p>
<blockquote>
<div><p>converted units, and additional information such as GPS info and dive number.</p>
</div></blockquote>
<ul class="simple">
<li><p>attr_warnings (list[str]): A list of warnings related to attribute assignments.</p></li>
<li><p>sg_cal (xarray.Dataset): A dataset containing variables starting with ‘sg_cal’.</p></li>
<li><p>dc_other (xarray.Dataset): A dataset containing other variables not categorized under ‘sg_cal’ or ‘dc_log’.</p></li>
<li><p>dc_log (xarray.Dataset): A dataset containing variables starting with ‘<a href="#id7"><span class="problematic" id="id8">log_</span></a>’.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The function performs the following steps:</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>Handles and splits the inputs:</dt><dd><ul>
<li><p>Extracts the dive number from the attributes.</p></li>
<li><p>Splits the dataset by unique dimensions.</p></li>
<li><p>Extracts the gps_info from the split dataset.</p></li>
<li><p>Extracts variables starting with ‘sg_cal’ (originally from sg_calib_constants.m).</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Renames the dataset dimensions, coordinates, and variables according to OG1:</dt><dd><ul>
<li><p>Extracts and renames dimensions for ‘sg_data_point’ (N_MEASUREMENTS).</p></li>
<li><p>Renames variables according to the OG1 vocabulary.</p></li>
<li><p>Assigns variable attributes according to OG1 and logs warnings for conflicts.</p></li>
<li><p>Converts units in the dataset (e.g., cm/s to m/s) where possible.</p></li>
<li><p>Converts QC flags to int8.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Adds new variables:</dt><dd><ul>
<li><p>Adds GPS info as LATITUDE_GPS, LONGITUDE_GPS, and TIME_GPS (increasing the length of N_MEASUREMENTS).</p></li>
<li><p>Adds the divenum as a variable of length N_MEASUREMENTS.</p></li>
<li><p>Adds the PROFILE_NUMBER (odd for dives, even for ascents).</p></li>
<li><p>Adds the PHASE of the dive (1 for ascent, 2 for descent, 3 for between the first two surface points).</p></li>
<li><p>Adds the DEPTH_Z with positive up.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Returns the processed dataset, attribute warnings, and categorized datasets.</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>The function sorts the dataset by TIME and may exhibit undesired behavior if there are not two surface GPS fixes before a dive.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.standardise_OG10">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">standardise_OG10</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstrun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'S/m':</span> <span class="pre">'S</span> <span class="pre">m-1',</span> <span class="pre">'cm/s':</span> <span class="pre">'cm</span> <span class="pre">s-1',</span> <span class="pre">'degreesCelsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'degrees_Celsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'g/m^3':</span> <span class="pre">'g</span> <span class="pre">m-3',</span> <span class="pre">'kg/m^3':</span> <span class="pre">'kg</span> <span class="pre">m-3',</span> <span class="pre">'m/s':</span> <span class="pre">'m</span> <span class="pre">s-1',</span> <span class="pre">'mS/cm':</span> <span class="pre">'mS</span> <span class="pre">cm-1',</span> <span class="pre">'meters':</span> <span class="pre">'m'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#standardise_OG10"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.standardise_OG10" title="Link to this definition"></a></dt>
<dd><p>Standardize the dataset to OG1 format by renaming dimensions, variables, and assigning attributes.</p>
<p>Applies OG1 vocabulary for variable names, units, and attributes.
Performs unit conversions and QC flag standardization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset to be standardized.</p></li>
<li><p><strong>firstrun</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether this is the first run of the standardization process. Default is False.</p></li>
<li><p><strong>unit_format</strong> (<em>dict</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – A dictionary mapping unit strings to their standardized format.
Default is vocabularies.unit_str_format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The standardized dataset in OG1 format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.convertOG1.update_dataset_attributes">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.convertOG1.</span></span><span class="sig-name descname"><span class="pre">update_dataset_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contrib_to_append</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/convertOG1.html#update_dataset_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.convertOG1.update_dataset_attributes" title="Link to this definition"></a></dt>
<dd><p>Update the attributes of the dataset based on the provided attribute input.</p>
<p>Processes contributor information, time attributes, and applies OG1
global attribute vocabulary in the correct order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset whose attributes need to be updated.</p></li>
<li><p><strong>contrib_to_append</strong> (<em>dict</em><em> of </em><em>str</em><em> or </em><em>None</em>) – A dictionary containing additional contributor information to append. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of ordered attributes with updated values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seagliderOG1.vocabularies">
<span id="vocabularies"></span><h2>vocabularies<a class="headerlink" href="#module-seagliderOG1.vocabularies" title="Link to this heading"></a></h2>
<p>Vocabularies and mappings for OG1 format conversion.</p>
<p>This module defines the vocabulary mappings, unit conversions, and attribute
configurations used to convert Seaglider basestation files to OG1 format.
It loads YAML configuration files and defines various dictionaries used
throughout the conversion process.</p>
<p>Key Components:
- Variable name mappings from basestation to OG1 format
- Unit conversion factors and formatting rules
- Global attribute definitions and ordering
- Variables to include/exclude during conversion
- Dimension renaming mappings</p>
<p>Configuration Files:
- OG1_var_names.yaml: Variable name mappings
- OG1_vocab_attrs.yaml: Variable attribute vocabularies
- OG1_sensor_attrs.yaml: Sensor attribute definitions
- OG1_global_attrs.yaml: Global attribute configurations
- OG1_author.yaml: Default author/contributor information</p>
<p class="rubric">Notes</p>
<p>This module is primarily data-driven and loads most configuration from YAML files
in the config/ directory. The YAML-based approach allows easy modification of
OG1 format requirements without code changes.</p>
</section>
<section id="module-seagliderOG1.readers">
<span id="readers"></span><h2>readers<a class="headerlink" href="#module-seagliderOG1.readers" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.readers.filter_files_by_profile">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.readers.</span></span><span class="sig-name descname"><span class="pre">filter_files_by_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_profile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_profile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/readers.html#filter_files_by_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.readers.filter_files_by_profile" title="Link to this definition"></a></dt>
<dd><p>Filter files by profile/dive number range.</p>
<p>Filters Seaglider basestation files based on profile number range.
Expects filenames of the form pXXXYYYY.nc, where XXX is the 3-digit
glider serial number and YYYY is the 4-digit dive cycle number.</p>
<p>Example: p0420001.nc represents glider 042, dive 0001.</p>
<p>Note: Input file_list does not need to be sorted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_list</strong> (<em>list</em><em> of </em><em>str</em>) – List of Seaglider filenames to filter.</p></li>
<li><p><strong>start_profile</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum profile number (inclusive).</p></li>
<li><p><strong>end_profile</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum profile number (inclusive).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered list of filenames within the specified range.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.readers.list_files">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.readers.</span></span><span class="sig-name descname"><span class="pre">list_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registry_loc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'seagliderOG1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registry_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'seaglider_registry.txt'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/readers.html#list_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.readers.list_files" title="Link to this definition"></a></dt>
<dd><p>List NetCDF files from a source (URL or local directory).</p>
<p>For online sources, scrapes directory listings using BeautifulSoup.
For local sources, lists files in the directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – URL (http/https) or local directory path to scan for files.</p></li>
<li><p><strong>registry_loc</strong> (<em>str</em><em>, </em><em>optional</em>) – Legacy parameter, not currently used.</p></li>
<li><p><strong>registry_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Legacy parameter, not currently used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of NetCDF filenames (.nc files only).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If source is neither a valid URL nor directory path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.readers.load_basestation_files">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.readers.</span></span><span class="sig-name descname"><span class="pre">load_basestation_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_profile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_profile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/readers.html#load_basestation_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.readers.load_basestation_files" title="Link to this definition"></a></dt>
<dd><p>Load multiple Seaglider basestation files with optional profile filtering.</p>
<p>Main function for loading Seaglider data from either online repositories
or local directories. Supports filtering by dive/profile number range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – URL (http/https) or local directory path containing Seaglider NetCDF files.</p></li>
<li><p><strong>start_profile</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum profile number to load.</p></li>
<li><p><strong>end_profile</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum profile number to load.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of loaded basestation datasets, ordered by filename.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.readers.load_first_basestation_file">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.readers.</span></span><span class="sig-name descname"><span class="pre">load_first_basestation_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/readers.html#load_first_basestation_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.readers.load_first_basestation_file" title="Link to this definition"></a></dt>
<dd><p>Load the first (alphabetically) basestation file from a source.</p>
<p>Useful for quick examination of data structure and metadata from
a Seaglider mission without loading all files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>str</em>) – URL or local directory path containing NetCDF files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The first basestation dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.readers.load_sample_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.readers.</span></span><span class="sig-name descname"><span class="pre">load_sample_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'p0330015_20100906.nc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/readers.html#load_sample_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.readers.load_sample_dataset" title="Link to this definition"></a></dt>
<dd><p>Download sample datasets for use with seagliderOG1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the sample dataset to load. Must be one of the available
datasets in the registry. Default is “p0330015_20100906.nc”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested sample dataset loaded from the cache.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the requested dataset is not available in the registry.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seagliderOG1.plotters">
<span id="plotters"></span><h2>plotters<a class="headerlink" href="#module-seagliderOG1.plotters" title="Link to this heading"></a></h2>
<p>Plotting and visualization functions for Seaglider data.</p>
<p>This module provides functions for plotting and inspecting Seaglider datasets,
including variable summaries, attribute displays, and depth profile visualizations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.plot_ctd_depth_vs_time">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">plot_ctd_depth_vs_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_traj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_traj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#plot_ctd_depth_vs_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.plot_ctd_depth_vs_time" title="Link to this definition"></a></dt>
<dd><p>Plot CTD depth vs time with GPS fix highlighting.</p>
<p>Creates a depth time series plot with special highlighting of points where
GPS latitude data is available (non-NaN), useful for identifying surface intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset containing ‘ctd_time’, ‘ctd_depth’, and ‘gps_lat’ variables.</p></li>
<li><p><strong>start_traj</strong> (<em>int</em><em>, </em><em>optional</em>) – The starting trajectory number to filter the data. If None, no filtering applied.</p></li>
<li><p><strong>end_traj</strong> (<em>int</em><em>, </em><em>optional</em>) – The ending trajectory number to filter the data. If None, no filtering applied.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Plots CTD depth as black dots for all data points.</p></li>
<li><p>Overlays red circles at points where GPS latitude is non-NaN.</p></li>
<li><p>Inverts y-axis to show depth increasing downward.</p></li>
<li><p>Filters data by trajectory range if specified.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.plot_depth_colored">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">plot_depth_colored</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_dive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_dive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#plot_depth_colored"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.plot_depth_colored" title="Link to this definition"></a></dt>
<dd><p>Plot depth as a function of time with optional coloring and dive filtering.</p>
<p>Creates a depth time series plot with optional color coding by another variable
and filtering by dive number range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em><em> or </em><em>xarray.Dataset</em>) – The input data containing depth, time, and dive number variables.
Should contain ‘ctd_depth’/’DEPTH’, ‘ctd_time’/’TIME’, and dive number variables.</p></li>
<li><p><strong>color_by</strong> (<em>str</em><em>, </em><em>optional</em>) – The variable name to color the plot by. If None, uses a simple line plot.</p></li>
<li><p><strong>start_dive</strong> (<em>int</em><em>, </em><em>optional</em>) – The starting dive number to filter the data. If None, no filtering applied.</p></li>
<li><p><strong>end_dive</strong> (<em>int</em><em>, </em><em>optional</em>) – The ending dive number to filter the data. If None, no filtering applied.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Accepts dive number variables: ‘dive_number’, ‘divenum’, or ‘dive_num’.</p></li>
<li><p>Uses scatter plot with colorbar when color_by is specified.</p></li>
<li><p>Inverts y-axis and formats time axis similar to plot_profile_depth.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If input data is not a pandas DataFrame or xarray Dataset.</p></li>
<li><p><strong>ValueError</strong> – If no valid dive number variable is found in the dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.plot_profile_depth">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">plot_profile_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#plot_profile_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.plot_profile_depth" title="Link to this definition"></a></dt>
<dd><p>Plot profile depth as a function of time.</p>
<p>Creates a time series plot of depth data with automatic point reduction
for large datasets and proper axis formatting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em><em> or </em><em>xarray.Dataset</em>) – The input data containing depth and time variables. Should contain either
‘ctd_depth’/’ctd_time’ or ‘DEPTH’/’TIME’ variables.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Automatically reduces the total number of points to less than 100,000 for performance.</p></li>
<li><p>Inverts y-axis to show depth increasing downward.</p></li>
<li><p>Formats x-axis with month-day labels and adds year information.</p></li>
<li><p>Sets tight y-axis limits rounded to nearest 10 meters.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If input data is not a pandas DataFrame or xarray Dataset.</p></li>
<li><p><strong>KeyError</strong> – If required time or depth variables are not found in the dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.show_attributes">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">show_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#show_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.show_attributes" title="Link to this definition"></a></dt>
<dd><p>Process an xarray Dataset or netCDF file and extract global attribute information.</p>
<p>Creates a DataFrame with comprehensive details about all global attributes
in the dataset, including their values and data types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>str</em><em> or </em><em>xarray.Dataset</em>) – The input data, either a file path to a netCDF file or an xarray Dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing the following columns:
- Attribute: The name of the attribute.
- Value: The value of the attribute.
- DType: The data type of the attribute value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If input data is not a file path or xarray Dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.show_contents">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">show_contents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'variables'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#show_contents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.show_contents" title="Link to this definition"></a></dt>
<dd><p>Show contents of an xarray Dataset or a netCDF file.</p>
<p>Wrapper function to display either variables or attributes from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>str</em><em> or </em><em>xarray.Dataset</em>) – The input data, either a file path to a netCDF file or an xarray Dataset.</p></li>
<li><p><strong>content_type</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of content to show, either ‘variables’ (or ‘vars’) or ‘attributes’ (or ‘attrs’).
Default is ‘variables’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with details about the variables or attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If input data is not a file path or xarray Dataset.</p></li>
<li><p><strong>ValueError</strong> – If content_type is not ‘variables’, ‘vars’, ‘attributes’, or ‘attrs’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.show_variables">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">show_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#show_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.show_variables" title="Link to this definition"></a></dt>
<dd><p>Process an xarray Dataset or netCDF file and extract variable information.</p>
<p>Creates a styled DataFrame with comprehensive details about all variables
in the dataset, including dimensions, units, comments, and data types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>str</em><em> or </em><em>xarray.Dataset</em>) – The input data, either a file path to a netCDF file or an xarray Dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A styled DataFrame containing the following columns:
- dims: The dimension of the variable (or “string” if it is a string type).
- name: The name of the variable.
- units: The units of the variable (if available).
- comment: Any additional comments about the variable (if available).
- standard_name: CF standard name (if available).
- dtype: Data type of the variable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.io.formats.style.Styler</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If input data is not a file path or xarray Dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.plotters.show_variables_by_dimension">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.plotters.</span></span><span class="sig-name descname"><span class="pre">show_variables_by_dimension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimension_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'trajectory'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/seagliderOG1/plotters.html#show_variables_by_dimension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.plotters.show_variables_by_dimension" title="Link to this definition"></a></dt>
<dd><p>Process dataset and extract variables filtered by a specific dimension.</p>
<p>Creates a styled DataFrame showing only variables that have the specified
dimension, useful for examining variables of a particular type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>str</em><em> or </em><em>xarray.Dataset</em>) – The input data, either a file path to a netCDF file or an xarray Dataset.</p></li>
<li><p><strong>dimension_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the dimension to filter variables by. Default is “trajectory”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A styled DataFrame containing the following columns:
- dims: The dimension of the variable (or “string” if it is a string type).
- name: The name of the variable.
- units: The units of the variable (if available).
- comment: Any additional comments about the variable (if available).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.io.formats.style.Styler</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If input data is not a file path or xarray Dataset.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seagliderOG1.writers">
<span id="writers"></span><h2>writers<a class="headerlink" href="#module-seagliderOG1.writers" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.writers.save_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.writers.</span></span><span class="sig-name descname"><span class="pre">save_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'../test.nc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/seagliderOG1/writers.html#save_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.writers.save_dataset" title="Link to this definition"></a></dt>
<dd><p>Attempts to save the dataset to a NetCDF file.</p>
<p>If a TypeError occurs due to invalid attribute values, converts the invalid
attributes to strings and retries the save operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The dataset to be saved.</p></li>
<li><p><strong>output_file</strong> (<em>str</em><em>, </em><em>optional</em>) – The path to the output NetCDF file. Defaults to ‘../test.nc’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the dataset was saved successfully, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Based on: <a class="reference external" href="https://github.com/pydata/xarray/issues/3743">https://github.com/pydata/xarray/issues/3743</a></p>
</dd></dl>

</section>
<section id="module-seagliderOG1.tools">
<span id="tools"></span><h2>tools<a class="headerlink" href="#module-seagliderOG1.tools" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.add_dive_number">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">add_dive_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dive_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#add_dive_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.add_dive_number" title="Link to this definition"></a></dt>
<dd><p>Add dive number as a variable to the dataset. Assumes present in the basestation attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – The dataset to which the dive number will be added.</p></li>
<li><p><strong>dive_number</strong> – The dive number to add. If None, extracts from dataset attributes.</p></li>
<li><p><strong>optional</strong> – The dive number to add. If None, extracts from dataset attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the dive number added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.add_sensor_to_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">add_sensor_to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dsa</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_cal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstrun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#add_sensor_to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.add_sensor_to_dataset" title="Link to this definition"></a></dt>
<dd><p>Add sensor information to the dataset based on instrument data and calibration parameters.</p>
<p>This function processes different types of seaglider sensors including CTD (sbe41),
oxygen sensors (sbe43, aa4381, aa4330), and optical sensors (wlbb2f). For each sensor,
it extracts calibration information, parses serial numbers and calibration dates,
and creates sensor variables with appropriate attributes and metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dsa</strong> – The target dataset to add sensor information to.</p></li>
<li><p><strong>ds</strong> – Dataset containing instrument/sensor data with attributes.</p></li>
<li><p><strong>sg_cal</strong> – Dataset containing calibration information and calibcomm strings.</p></li>
<li><p><strong>firstrun</strong> – Whether to enable detailed logging for debugging. Default is False.</p></li>
<li><p><strong>optional</strong> – Whether to enable detailed logging for debugging. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated dataset with sensor variables and metadata added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Handles CTD sensors by parsing calibcomm strings for serial numbers and dates</p></li>
<li><p>Processes oxygen sensors using calibcomm_oxygen or calibcomm_optode information</p></li>
<li><p>Creates sensor variable names in format: ‘SENSOR_{type}_{serial}’</p></li>
<li><p>Skips altimeter sensors as they are not processed in current implementation</p></li>
<li><p>For wlbb2f sensors, calibration parsing is commented out pending data availability</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.assign_phase">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">assign_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#assign_phase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.assign_phase" title="Link to this definition"></a></dt>
<dd><p>This function adds new variables ‘PHASE’ and ‘PHASE_QC’ to the dataset <cite>ds</cite>, which indicate the phase of each measurement. The phase is determined based on the pressure readings (‘PRES’) for each unique dive number (‘dive_num’).</p>
<p>Note: In this formulation, we are only separating into dives and climbs based on when the glider is at the maximum depth. Future work needs to separate out the other phases: <a class="reference external" href="https://github.com/OceanGlidersCommunity/OG-format-user-manual/blob/main/vocabularyCollection/phase.md">https://github.com/OceanGlidersCommunity/OG-format-user-manual/blob/main/vocabularyCollection/phase.md</a> and generate a PHASE_QC.
Assigns phase values to the dataset based on pressure readings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>xarray.Dataset</strong><strong>)</strong> (<em>ds</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>xarray.Dataset</strong> (<em>The dataset with an additional ‘PHASE’ variable, where:</em>)</p></li>
<li><p><strong>xarray.Dataset</strong> (<em>The dataset with additional ‘PHASE’ and ‘PHASE_QC’ variables, where:</em>) –</p>
<ul>
<li><dl class="simple">
<dt>‘PHASE’ indicates the phase of each measurement:</dt><dd><ul>
<li><p>Phase 2 is assigned to measurements up to and including the maximum pressure point.</p></li>
<li><p>Phase 1 is assigned to measurements after the maximum pressure point.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>’PHASE_QC’ is an additional variable with no QC applied.</p></li>
</ul>
</li>
<li><p><strong>Note</strong> (<em>In this formulation, we are only separating into dives and climbs based on when the glider is at the maximum depth.  Future work needs to separate out the other phases: https://github.com/OceanGlidersCommunity/OG-format-user-manual/blob/main/vocabularyCollection/phase.md and generate a PHASE_QC</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.assign_profile_number">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">assign_profile_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#assign_profile_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.assign_profile_number" title="Link to this definition"></a></dt>
<dd><p>Assign profile numbers to measurements based on dive phases (down/up casts).</p>
<p>This function separates each dive into two profiles: descent (down cast) and
ascent (up cast) phases. The dive is split at the maximum pressure point,
with the descent phase getting the dive number and ascent getting dive + 0.5.
Profile numbers are then calculated as 2 * dive_num_cast - 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – The dataset to add profile numbers to.</p></li>
<li><p><strong>ds1</strong> – Dataset containing dive number information in attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset with ‘dive_num_cast’ and ‘PROFILE_NUMBER’ variables added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires pressure variable (PRES, ctd_pressure, Pressure, or pres)</p></li>
<li><p>Down cast: dive_num_cast = dive number</p></li>
<li><p>Up cast: dive_num_cast = dive number + 0.5</p></li>
<li><p>Profile numbers: descent = 2*dive-1, ascent = 2*dive</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.calc_Z">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">calc_Z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#calc_Z"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.calc_Z" title="Link to this definition"></a></dt>
<dd><p>Calculate the depth (Z position) of the glider using the gsw library to convert pressure to depth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – The input dataset containing ‘PRES’, ‘LATITUDE’, and ‘LONGITUDE’ variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with an additional ‘DEPTH’ variable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.combine_two_dim_of_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">combine_two_dim_of_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sg_data_point'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ctd_data_point'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#combine_two_dim_of_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.combine_two_dim_of_dataset" title="Link to this definition"></a></dt>
<dd><p>Updates the original dataset by removing variables with dim1 and dim2
and adding the merged dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – The original dataset.</p></li>
<li><p><strong>dim1</strong> – First dimension to be removed. Default is ‘sg_data_point’.</p></li>
<li><p><strong>optional</strong> – First dimension to be removed. Default is ‘sg_data_point’.</p></li>
<li><p><strong>dim2</strong> – Second dimension to be removed. Default is ‘ctd_data_point’.</p></li>
<li><p><strong>optional</strong> – Second dimension to be removed. Default is ‘ctd_data_point’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated dataset with merged variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.convert_qc_flags">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">convert_qc_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dsa</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qc_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#convert_qc_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.convert_qc_flags" title="Link to this definition"></a></dt>
<dd><p>Convert QC flag variables to proper integer format and update attributes.</p>
<p>This function converts QC flag variables from string format to int8,
handles NaN values appropriately, removes ‘<a href="#id9"><span class="problematic" id="id10">QC_</span></a>’ prefixes from flag meanings,
and adds proper metadata including long_name and standard_name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dsa</strong> – The dataset containing QC flag variables.</p></li>
<li><p><strong>qc_name</strong> – The name of the QC flag variable to process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset with converted QC flag variable and updated attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Must be called after the main variable has been assigned its OG1 long_name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.convert_units">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">convert_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#convert_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.convert_units" title="Link to this definition"></a></dt>
<dd><p>Convert the units of variables in an xarray Dataset to preferred units.</p>
<p>This is useful, for instance, to convert cm/s to m/s based on vocabulary
specifications.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – The dataset containing variables to convert.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with converted units.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.convert_units_var">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">convert_units_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit1_to_unit2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'Celsius_to_degreesCelsius':</span> <span class="pre">{'current_unit':</span> <span class="pre">'Celsius',</span> <span class="pre">'factor':</span> <span class="pre">1,</span> <span class="pre">'new_unit':</span> <span class="pre">'degreesCelsius'},</span> <span class="pre">'Pa_to_dbar':</span> <span class="pre">{'current_unit':</span> <span class="pre">'Pa',</span> <span class="pre">'factor':</span> <span class="pre">0.0001,</span> <span class="pre">'new_unit':</span> <span class="pre">'dbar'},</span> <span class="pre">'S</span> <span class="pre">m-1_to_mS</span> <span class="pre">cm-1':</span> <span class="pre">{'current_unit':</span> <span class="pre">'S</span> <span class="pre">m-1',</span> <span class="pre">'factor':</span> <span class="pre">0.1,</span> <span class="pre">'new_unit':</span> <span class="pre">'mS</span> <span class="pre">cm-1'},</span> <span class="pre">'S/m_to_mS/cm':</span> <span class="pre">{'current_unit':</span> <span class="pre">'S/m',</span> <span class="pre">'factor':</span> <span class="pre">0.1,</span> <span class="pre">'new_unit':</span> <span class="pre">'mS/cm'},</span> <span class="pre">'cm</span> <span class="pre">s-1_to_m</span> <span class="pre">s-1':</span> <span class="pre">{'current_unit':</span> <span class="pre">'cm</span> <span class="pre">s-1',</span> <span class="pre">'factor':</span> <span class="pre">0.01,</span> <span class="pre">'new_unit':</span> <span class="pre">'m</span> <span class="pre">s-1'},</span> <span class="pre">'cm/s_to_m/s':</span> <span class="pre">{'current_unit':</span> <span class="pre">'cm/s',</span> <span class="pre">'factor':</span> <span class="pre">0.01,</span> <span class="pre">'new_unit':</span> <span class="pre">'m/s'},</span> <span class="pre">'cm_to_m':</span> <span class="pre">{'current_unit':</span> <span class="pre">'cm',</span> <span class="pre">'factor':</span> <span class="pre">0.01,</span> <span class="pre">'new_unit':</span> <span class="pre">'m'},</span> <span class="pre">'dbar_to_Pa':</span> <span class="pre">{'current_unit':</span> <span class="pre">'dbar',</span> <span class="pre">'factor':</span> <span class="pre">10000,</span> <span class="pre">'new_unit':</span> <span class="pre">'Pa'},</span> <span class="pre">'dbar_to_kPa':</span> <span class="pre">{'current_unit':</span> <span class="pre">'dbar',</span> <span class="pre">'factor':</span> <span class="pre">10,</span> <span class="pre">'new_unit':</span> <span class="pre">'kPa'},</span> <span class="pre">'degreesCelsius_to_Celsius':</span> <span class="pre">{'current_unit':</span> <span class="pre">'degreesCelsius',</span> <span class="pre">'factor':</span> <span class="pre">1,</span> <span class="pre">'new_unit':</span> <span class="pre">'Celsius'},</span> <span class="pre">'g</span> <span class="pre">m-3_to_kg</span> <span class="pre">m-3':</span> <span class="pre">{'current_unit':</span> <span class="pre">'g</span> <span class="pre">m-3',</span> <span class="pre">'factor':</span> <span class="pre">0.001,</span> <span class="pre">'new_unit':</span> <span class="pre">'kg</span> <span class="pre">m-3'},</span> <span class="pre">'g/m^3_to_kg/m^3':</span> <span class="pre">{'current_unit':</span> <span class="pre">'g/m3',</span> <span class="pre">'factor':</span> <span class="pre">0.001,</span> <span class="pre">'new_unit':</span> <span class="pre">'kg/m3'},</span> <span class="pre">'kg</span> <span class="pre">m-3_to_g</span> <span class="pre">m-3':</span> <span class="pre">{'current_unit':</span> <span class="pre">'kg</span> <span class="pre">m-3',</span> <span class="pre">'factor':</span> <span class="pre">1000,</span> <span class="pre">'new_unit':</span> <span class="pre">'g</span> <span class="pre">m-3'},</span> <span class="pre">'kg/m^3_to_g/m^3':</span> <span class="pre">{'current_unit':</span> <span class="pre">'kg/m3',</span> <span class="pre">'factor':</span> <span class="pre">1000,</span> <span class="pre">'new_unit':</span> <span class="pre">'g/m3'},</span> <span class="pre">'km_to_m':</span> <span class="pre">{'current_unit':</span> <span class="pre">'km',</span> <span class="pre">'factor':</span> <span class="pre">1000,</span> <span class="pre">'new_unit':</span> <span class="pre">'m'},</span> <span class="pre">'m</span> <span class="pre">s-1_to_cm</span> <span class="pre">s-1':</span> <span class="pre">{'current_unit':</span> <span class="pre">'m</span> <span class="pre">s-1',</span> <span class="pre">'factor':</span> <span class="pre">100,</span> <span class="pre">'new_unit':</span> <span class="pre">'cm</span> <span class="pre">s-1'},</span> <span class="pre">'m/s_to_cm/s':</span> <span class="pre">{'current_unit':</span> <span class="pre">'m/s',</span> <span class="pre">'factor':</span> <span class="pre">100,</span> <span class="pre">'new_unit':</span> <span class="pre">'cm/s'},</span> <span class="pre">'mS</span> <span class="pre">cm-1_to_S</span> <span class="pre">m-1':</span> <span class="pre">{'current_unit':</span> <span class="pre">'mS</span> <span class="pre">cm-1',</span> <span class="pre">'factor':</span> <span class="pre">10,</span> <span class="pre">'new_unit':</span> <span class="pre">'S</span> <span class="pre">m-1'},</span> <span class="pre">'mS/cm_to_S/m':</span> <span class="pre">{'current_unit':</span> <span class="pre">'mS/cm',</span> <span class="pre">'factor':</span> <span class="pre">10,</span> <span class="pre">'new_unit':</span> <span class="pre">'S/m'},</span> <span class="pre">'m_to_cm':</span> <span class="pre">{'current_unit':</span> <span class="pre">'m',</span> <span class="pre">'factor':</span> <span class="pre">100,</span> <span class="pre">'new_unit':</span> <span class="pre">'cm'},</span> <span class="pre">'m_to_km':</span> <span class="pre">{'current_unit':</span> <span class="pre">'m',</span> <span class="pre">'factor':</span> <span class="pre">0.001,</span> <span class="pre">'new_unit':</span> <span class="pre">'km'}}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstrun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#convert_units_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.convert_units_var" title="Link to this definition"></a></dt>
<dd><p>Convert the units of variables in an xarray Dataset to preferred units.  This is useful, for instance, to convert cm/s to m/s.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>xarray.Dataset</strong><strong>)</strong> (<em>ds</em>)</p></li>
<li><p><strong>(</strong><strong>list</strong><strong>)</strong> (<em>preferred_units</em>)</p></li>
<li><p><strong>(</strong><strong>dict</strong><strong>)</strong> (<em>unit1_to_unit2</em>)</p></li>
<li><p><strong>string</strong> (<em>Each key is a unit</em>) – <ul>
<li><p>‘factor’: The factor to multiply the variable by to convert it.</p></li>
<li><p>’units_name’: The new unit name after conversion.</p></li>
</ul>
</p></li>
<li><p><strong>with</strong> (<em>and each value is a dictionary</em>) – <ul>
<li><p>‘factor’: The factor to multiply the variable by to convert it.</p></li>
<li><p>’units_name’: The new unit name after conversion.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xarray.Dataset</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dataset with converted units.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.encode_times">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">encode_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#encode_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.encode_times" title="Link to this definition"></a></dt>
<dd><p>Encode time variables with standard units and remove problematic attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – Dataset containing time variables to encode.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset with properly encoded time variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.encode_times_og1">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">encode_times_og1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#encode_times_og1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.encode_times_og1" title="Link to this definition"></a></dt>
<dd><p>Encode time variables according to OG1 format specifications.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – Dataset containing time variables to encode.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset with OG1-formatted time variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.find_best_dtype">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">find_best_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">da</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">type</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#find_best_dtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.find_best_dtype" title="Link to this definition"></a></dt>
<dd><p>Determine the optimal data type for a variable based on its name and values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> – The name of the variable.</p></li>
<li><p><strong>da</strong> – The data array to analyze.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The recommended numpy data type.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Latitude/longitude variables use double precision</p></li>
<li><p>QC variables use int8</p></li>
<li><p>Time variables keep original dtype</p></li>
<li><p>Integer variables are downsized based on value range</p></li>
<li><p>Float64 variables are converted to float32</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.gather_sensor_info">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">gather_sensor_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds_sgcal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstrun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#gather_sensor_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.gather_sensor_info" title="Link to this definition"></a></dt>
<dd><p>Gathers sensor information from the provided datasets and organizes it into a new dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds_other</strong> – The dataset containing sensor data.</p></li>
<li><p><strong>ds_sgcal</strong> – The dataset containing calibration data.</p></li>
<li><p><strong>firstrun</strong> – A flag indicating if this is the first run. Default is False.</p></li>
<li><p><strong>optional</strong> – A flag indicating if this is the first run. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dataset containing the gathered sensor information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function looks for specific sensor names in the <cite>ds_other</cite> dataset and adds them to a new dataset <cite>ds_sensor</cite>.</p></li>
<li><p>If ‘aanderaa4330_instrument_dissolved_oxygen’ is present in <cite>ds_other</cite>, it is renamed to ‘aa4330’.</p></li>
<li><p>If ‘Pcor’ is present in <cite>ds_sgcal</cite>, an additional sensor ‘sbe43’ is created based on ‘sbe41’ with specific attributes.</p></li>
<li><p>If ‘optode_FoilCoefA1’ is present in <cite>ds_sgcal</cite>, an additional sensor ‘aa4831’ is created based on ‘sbe41’ with specific attributes.</p></li>
<li><p>The function sets appropriate attributes for the sensors ‘aa4330’, ‘aa4831’, and ‘sbe43’ if they are present.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.get_sg_attrs">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">get_sg_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#get_sg_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.get_sg_attrs" title="Link to this definition"></a></dt>
<dd><p>Extract seaglider attributes and calibration information into a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – Dataset containing seaglider attributes and calibration data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing seaglider variables and their attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.merge_parts_of_dataset">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">merge_parts_of_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sg_data_point'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ctd_data_point'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#merge_parts_of_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.merge_parts_of_dataset" title="Link to this definition"></a></dt>
<dd><p>Merges variables from a dataset along two dimensions, ensuring consistency in coordinates.
The function first separates the dataset into two datasets based on the specified dimensions,
renames the second dimension to match the first, and then concatenates them along the first dimension.</p>
<p>Missing time values are filled with NaN, and the final dataset is sorted by time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The input dataset containing both dimensions.</p></li>
<li><p><strong>dim1</strong> (<em>str</em>) – Primary dimension name (e.g., ‘sg_data_point’).</p></li>
<li><p><strong>dim2</strong> (<em>str</em>) – Secondary dimension name to be merged into dim1 (e.g., ‘ctd_data_point’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>merged_ds</strong> – A merged dataset sorted by time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Original author: Till Moritz</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.reformat_units_str">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">reformat_units_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'S/m':</span> <span class="pre">'S</span> <span class="pre">m-1',</span> <span class="pre">'cm/s':</span> <span class="pre">'cm</span> <span class="pre">s-1',</span> <span class="pre">'degreesCelsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'degrees_Celsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'g/m^3':</span> <span class="pre">'g</span> <span class="pre">m-3',</span> <span class="pre">'kg/m^3':</span> <span class="pre">'kg</span> <span class="pre">m-3',</span> <span class="pre">'m/s':</span> <span class="pre">'m</span> <span class="pre">s-1',</span> <span class="pre">'mS/cm':</span> <span class="pre">'mS</span> <span class="pre">cm-1',</span> <span class="pre">'meters':</span> <span class="pre">'m'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#reformat_units_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.reformat_units_str" title="Link to this definition"></a></dt>
<dd><p>Reformat a unit string based on the provided unit format dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_unit</strong> – The original unit string to reformat.</p></li>
<li><p><strong>unit_format</strong> – A dictionary mapping old unit strings to new formatted unit strings.</p></li>
<li><p><strong>optional</strong> – A dictionary mapping old unit strings to new formatted unit strings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reformatted unit string, or the original if no mapping exists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.reformat_units_var">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">reformat_units_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'S/m':</span> <span class="pre">'S</span> <span class="pre">m-1',</span> <span class="pre">'cm/s':</span> <span class="pre">'cm</span> <span class="pre">s-1',</span> <span class="pre">'degreesCelsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'degrees_Celsius':</span> <span class="pre">'Celsius',</span> <span class="pre">'g/m^3':</span> <span class="pre">'g</span> <span class="pre">m-3',</span> <span class="pre">'kg/m^3':</span> <span class="pre">'kg</span> <span class="pre">m-3',</span> <span class="pre">'m/s':</span> <span class="pre">'m</span> <span class="pre">s-1',</span> <span class="pre">'mS/cm':</span> <span class="pre">'mS</span> <span class="pre">cm-1',</span> <span class="pre">'meters':</span> <span class="pre">'m'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#reformat_units_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.reformat_units_var" title="Link to this definition"></a></dt>
<dd><p>Rename units in the dataset based on the provided dictionary for OG1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – The input dataset containing variables with units to be renamed.</p></li>
<li><p><strong>var_name</strong> – The name of the variable whose units should be reformatted.</p></li>
<li><p><strong>unit_format</strong> – A dictionary mapping old unit strings to new formatted unit strings.</p></li>
<li><p><strong>optional</strong> – A dictionary mapping old unit strings to new formatted unit strings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reformatted unit string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.set_best_dtype">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">set_best_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#set_best_dtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.set_best_dtype" title="Link to this definition"></a></dt>
<dd><p>Optimize data types across all variables in the dataset to reduce memory usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – The dataset to optimize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset with optimized data types and appropriate fill values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.set_best_dtype_value">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">set_best_dtype_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/seagliderOG1/tools.html#set_best_dtype_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.set_best_dtype_value" title="Link to this definition"></a></dt>
<dd><p>Determine the best data type for a single value based on its variable name and convert it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>any</em>) – The input value to convert.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converted_value</strong> – The value converted to the best data type.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.set_fill_value">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">set_fill_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#set_fill_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.set_fill_value" title="Link to this definition"></a></dt>
<dd><p>Calculate appropriate fill value for integer data types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_dtype</strong> – The target integer data type.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The fill value calculated as 2^(bits-1) - 1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="seagliderOG1.tools.split_by_unique_dims">
<span class="sig-prename descclassname"><span class="pre">seagliderOG1.tools.</span></span><span class="sig-name descname"><span class="pre">split_by_unique_dims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/seagliderOG1/tools.html#split_by_unique_dims"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#seagliderOG1.tools.split_by_unique_dims" title="Link to this definition"></a></dt>
<dd><p>Splits an xarray dataset into multiple datasets based on the unique set of dimensions of the variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> – The input xarray dataset containing various variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping dimension tuples to datasets, each with variables sharing the same set of dimensions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-seagliderOG1.utilities">
<span id="utilities"></span><h2>utilities<a class="headerlink" href="#module-seagliderOG1.utilities" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="demo-output.html" class="btn btn-neutral float-left" title="seagliderOG1 demo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Eleanor Frajka-Williams, Till Moritz.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>